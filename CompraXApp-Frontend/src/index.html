<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>CompraXApp</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="theme-color" content="#2563eb">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">

  <link rel="icon" type="image/x-icon" href="assets/images/logo.ico">
  <link rel="shortcut icon" href="assets/images/logo.ico">
  
  <!-- ✅ VERIFICAR que FontAwesome esté cargado -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" 
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" 
        crossorigin="anonymous" 
        referrerpolicy="no-referrer">
  
  <!-- ✅ FALLBACK: Si CDN falla, usar otra versión -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.1/css/all.css" 
        crossorigin="anonymous">
</head>
<body>
  <app-root></app-root>
  
  <!-- ✅ SCRIPT para verificar si FontAwesome cargó -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      setTimeout(function() {
        const faIcons = document.querySelectorAll('.fas, .far, .fal, .fab');
        const faLoaded = window.FontAwesome || document.querySelector('link[href*="font-awesome"]');
        
        if (!faLoaded) {
          console.warn('FontAwesome no se cargó correctamente');
          // Mostrar fallback
          document.querySelectorAll('.notification-bell').forEach(btn => {
            btn.classList.remove('fa-loaded');
            const fallback = btn.querySelector('.bell-fallback');
            const faIcon = btn.querySelector('.fas');
            if (fallback && faIcon) {
              fallback.style.display = 'block';
              faIcon.style.display = 'none';
            }
          });
        } else {
          document.querySelectorAll('.notification-bell').forEach(btn => {
            btn.classList.add('fa-loaded');
          });
        }
      }, 1000);
    });
  </script>
</body>
</html>
